/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java library project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/7.3/userguide/building_java_projects.html
 */

plugins {
    // Apply the java-library plugin for API and implementation separation.
    id 'java-library'
    id "org.openmicroscopy.project" version "5.5.4"
}

group = "mcw.lavlab"
version = "1.0.0"

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    testImplementation("org.testng:testng:6.14.2")
    testImplementation("jmock:jmock:1.+")
    testImplementation("org.apache.directory.server:apacheds-all:2.0.0-M24")
    testImplementation('org.openmicroscopy:omero-common-test:5.5.10')
    testImplementation('no.nav.security:mock-oauth2-server:0.5.6') {exclude group: 'org.bouncycastle'}
    testImplementation('org.bouncycastle:bcpkix-jdk15on:1.56'){force=true}

    api ('org.openmicroscopy:omero-renderer:5.5.10'){ exclude group: '*'}

    implementation('omero:server:5.5.0-m2-ice36-b103') { exclude group: 'org.testng' exclude group: 'bouncycastle'}

    implementation('org.springframework:spring-context:4.3.14.RELEASE'){force=true}
    implementation('org.springframework:spring-beans:4.3.14.RELEASE') {force=true}
    implementation("org.springframework:spring-context-support:4.3.14.RELEASE"){force=true}
    

    implementation('org.springframework:spring-jcl:5.2.22.RELEASE')
    implementation('org.springframework:spring-web:5.3.24') { exclude group: '*'}
    implementation('org.springframework.security:spring-security-core:5.7.5') { exclude group: '*' }
    implementation('org.springframework.security:spring-security-oauth2-core:5.7.5') { exclude group: '*' }
    implementation('org.springframework.security:spring-security-oauth2-jose:5.7.5') { exclude group: '*' }
    implementation('org.springframework.security:spring-security-oauth2-client:5.7.5') { exclude group: '*' }
    implementation('org.springframework.security:spring-security-oauth2-resource-server:5.7.5') { exclude group: '*' }

    implementation('hsqldb:hsqldb:1.8.0.10'){force=true}

    implementation('org.springframework.boot:spring-boot-starter-logging:2.3.12.RELEASE')
    implementation('org.springframework.boot:spring-boot-autoconfigure:2.6.14'){
        exclude group: 'org.springframework.boot', module:'spring-boot'
    }

    implementation('com.fasterxml.jackson.core:jackson-databind:2.14.1')

    implementation('com.nimbusds:oauth2-oidc-sdk:9.43.1'){force=true}
    implementation('com.nimbusds:nimbus-jose-jwt:9.24.4')
}   

test {
    testLogging {
        events "passed", "skipped", "failed", "standardOut", "standardError"
    }
    // enable TestNG support (default is JUnit)
    useTestNG() {
        suites "src/test/resources/unit.testng.xml"
    }
}

jar {
    manifest {
        attributes('Class-Path' : 'src' )
    }
}
sourceSets {
    main {
        resources {
            srcDirs "src/main/resources"
        }
    }
}